<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sudan-store â€” Ø§Ù„Ù…ØªØ¬Ø±</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg: #f3f7fb;
    --card: #ffffff;
    --muted: #6b7b86;
    --primary: #2f6fa6;
    --accent: #4b79a1;
    --success: #25d366;
    --glass: rgba(255,255,255,0.6);
    --radius: 14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:"Inter", "Segoe UI", Tahoma, sans-serif;
    direction:rtl;
    background: linear-gradient(180deg,#eef5fb,#f8fbff);
    color:#142027;
  }

  /* Header */
  .header{
    background: linear-gradient(90deg,var(--primary),#243b50);
    color: #fff;
    padding:20px 18px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    box-shadow: 0 6px 20px rgba(15,40,60,0.12);
  }
  .brand {
    display:flex; align-items:center; gap:12px;
  }
  .logo {
    width:58px; height:58px; border-radius:10px;
    background: linear-gradient(135deg,#ff5fa3,#7a6bff);
    display:flex; align-items:center; justify-content:center;
    box-shadow: 0 6px 16px rgba(0,0,0,0.12), inset 0 -6px 18px rgba(255,255,255,0.06);
  }
  .logo svg{width:34px;height:34px;filter: drop-shadow(0 2px 6px rgba(0,0,0,0.12));}
  .brand h1{margin:0;font-size:20px;letter-spacing:0.4px}
  .brand p{margin:0;font-size:12px;color:rgba(255,255,255,0.85)}

  .header-actions{display:flex;gap:8px;align-items:center}
  .header-actions a{color:#fff;text-decoration:none;padding:8px 12px;border-radius:10px;font-weight:600;background:rgba(255,255,255,0.06)}
  .header-actions a:hover{background:rgba(255,255,255,0.12)}

  /* Layout */
  .container{max-width:1100px;margin:22px auto;padding:0 16px}
  .grid{display:grid;grid-template-columns:1fr 360px;gap:20px;align-items:start}
  @media(max-width:980px){.grid{grid-template-columns:1fr}}

  /* Controls card */
  .controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .search {
    flex:1; display:flex; gap:8px; align-items:center;
    background:var(--card); padding:8px 10px; border-radius:12px; border:1px solid #e6eef6;
  }
  .search input{flex:1;border:0;outline:0;font-size:15px;padding:8px}
  .select, .currency-select{background:var(--card); padding:8px 10px;border-radius:12px;border:1px solid #e6eef6;font-size:15px}
  .controls .label{font-weight:700;color:var(--muted);font-size:14px}

  /* Products list */
  .products-card{background:var(--card);padding:18px;border-radius:14px;box-shadow:0 10px 30px rgba(16,40,60,0.06)}
  .products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px}
  .product{
    display:flex;flex-direction:column; gap:8px;
    border-radius:12px;overflow:hidden;background:linear-gradient(180deg,#ffffff,#fbfdff);
    padding:12px;border:1px solid #eef6fb; transition:transform .18s, box-shadow .18s;
  }
  .product:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(20,40,60,0.08)}
  .product-top{display:flex;gap:12px;align-items:center}
  .product img{width:86px;height:86px;border-radius:10px;object-fit:cover;flex-shrink:0}
  .product-title{font-weight:800;font-size:16px;color:#163042}
  .product-sub{color:var(--muted);font-size:13px;margin-top:2px}
  .product-bottom{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-top:6px}
  .price{font-weight:800;font-size:16px;color:var(--primary)}
  .btn-add{background:linear-gradient(180deg,var(--primary),var(--accent));color:#fff;border:none;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700}
  .qty{width:58px;padding:6px;border-radius:8px;border:1px solid #e6eef6;text-align:center}

  /* Sidebar cart */
  .sidebar-card{position:sticky;top:20px;background:var(--card);padding:16px;border-radius:12px;box-shadow:0 10px 30px rgba(16,40,60,0.06)}
  .cart-list{display:flex;flex-direction:column;gap:8px;max-height:360px;overflow:auto;padding-right:4px}
  .cart-item{display:flex;align-items:center;justify-content:space-between;padding:10px;border-radius:10px;background:linear-gradient(180deg,#fbfdff,#ffffff);border:1px solid #eef6fb}
  .cart-item small{color:var(--muted)}
  .cart-total{margin-top:12px;font-weight:900;font-size:18px;color:#0f2b3a}
  .payment-select{width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef6;margin-top:10px}
  .sidebar-actions{display:flex;gap:8px;margin-top:12px}
  .btn-outline{background:#fff;border:1px solid var(--primary);color:var(--primary);padding:8px 10px;border-radius:10px;font-weight:700;cursor:pointer}
  .btn-primary{background:linear-gradient(90deg,var(--primary),var(--accent));border:none;color:#fff;padding:8px 12px;border-radius:10px;font-weight:800;cursor:pointer}

  /* modal & toast */
  .modal-back{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(6,18,30,0.45);z-index:9998}
  .modal{background:#fff;padding:18px;border-radius:12px;max-width:520px;width:94%}
  .toast{position:fixed;top:18px;right:18px;background:var(--success);color:#fff;padding:10px 14px;border-radius:10px;display:none;z-index:9999;box-shadow:0 10px 30px rgba(37,211,102,0.12)}
  .footer{margin-top:28px;text-align:center;color:var(--muted);font-size:14px;padding:18px 0}

  /* responsive tweaks */
  @media(max-width:760px){
    .product img{width:72px;height:72px}
    .header{flex-direction:column;align-items:flex-start;row-gap:12px}
  }
</style>
</head>
<body>

  <!-- Header -->
  <header class="header" role="banner">
    <div class="brand" aria-hidden>
      <div class="logo" aria-hidden>
        <!-- simple SVG logo: S + gem -->
        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden>
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0" stop-color="#ff6aa3"/>
              <stop offset="1" stop-color="#7a6bff"/>
            </linearGradient>
          </defs>
          <rect x="0" y="0" width="64" height="64" rx="12" fill="url(#g1)"/>
          <path d="M20 44 L32 20 L44 44 Z" fill="rgba(255,255,255,0.95)"/>
          <text x="32" y="50" font-size="10" font-weight="800" text-anchor="middle" fill="rgba(255,255,255,0.95)">S</text>
        </svg>
      </div>
      <div>
        <h1>Sudan-store</h1>
        <p style="margin-top:4px;font-size:12px;color:rgba(255,255,255,0.9)">Ø´Ø­Ù† Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ¨Ø·Ø§Ù‚Ø§Øª â€” SDG & EGP</p>
      </div>
    </div>

    <div class="header-actions" aria-hidden>
      <a href="#how">ÙƒÙŠÙÙŠØ© Ø§Ù„Ø´Ø±Ø§Ø¡</a>
      <a href="https://wa.me/201035179385" target="_blank">Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a>
    </div>
  </header>

  <!-- Content -->
  <main class="container" role="main">
    <div class="grid">

      <!-- Left: products -->
      <section>
        <div class="products-card card" aria-label="Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØ­ÙƒÙ…">
          <div class="controls" style="margin-bottom:12px">
            <div class="search" role="search" aria-label="Ø¨Ø­Ø«">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:.7"><path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="#8aa6c5" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              <input id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ø£Ùˆ Ø¹Ø¯Ø¯ Ø¬ÙˆÙ‡Ø±Ø© (Ù…Ø«Ø§Ù„: 110)" />
            </div>

            <select id="filterSelect" class="select" aria-label="ÙÙ„ØªØ±">
              <option value="all">Ø§Ù„ÙƒÙ„</option>
              <option value="diamonds">Ø¬ÙˆØ§Ù‡Ø±</option>
              <option value="upgrade">ØªØ±Ù‚ÙŠØ©</option>
              <option value="membership">Ø¹Ø¶ÙˆÙŠØ©</option>
            </select>

            <div class="currency-select" style="display:flex;align-items:center; gap:8px;">
              <span class="label" style="font-weight:700;color:var(--muted)">Ø§Ù„Ø¹Ù…Ù„Ø©</span>
              <select id="currencySelect" class="select" aria-label="Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…Ù„Ø©">
                <option value="SDG">SDG</option>
                <option value="EGP">EGP</option>
              </select>
            </div>
          </div>

          <div id="productsGrid" class="products-grid" aria-live="polite">
            <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØªÙØ¹Ø±Ø¶ Ø¨Ø§Ù„Ù€ JS -->
          </div>
        </div>

        <!-- How to buy -->
        <div id="how" class="card" style="margin-top:14px">
          <h3 style="margin:0 0 8px 0">ğŸ“– ÙƒÙŠÙÙŠØ© Ø§Ù„Ø´Ø±Ø§Ø¡</h3>
          <ol style="margin:0 0 0 12px; color:var(--muted); line-height:1.8">
            <li>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ§Ø¶ØºØ· Ø¥Ø¶Ø§ÙØ© Ù…Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ…ÙŠØ©.</li>
            <li>Ø±Ø§Ø¬Ø¹ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙÙŠ Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠÙ…Ù†.</li>
            <li>Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø«Ù… Ø§Ø¶ØºØ· "Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ¥Ø±Ø³Ø§Ù„".</li>
            <li>Ø³ØªÙØªØ­ Ù†Ø§ÙØ°Ø© ØªØ£ÙƒÙŠØ¯ØŒ Ø§Ø¶ØºØ· Ø¥Ø±Ø³Ø§Ù„ Ù„ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨.</li>
            <li>Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹ Ø£Ø±Ø³Ù„ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Ù†ÙØ³ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨.</li>
          </ol>
        </div>
      </section>

      <!-- Right: sidebar (cart) -->
      <aside>
        <div class="sidebar-card" role="region" aria-label="Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª">
          <h3 style="margin:0 0 8px 0">ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
          <div id="cartList" class="cart-list" aria-live="polite">
            <!-- Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø³Ù„Ø© -->
          </div>

          <div class="cart-total" style="margin-top:8px">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="totalAmount">0</span> <small id="currencyLabel">SDG</small></div>

          <label style="display:block;margin-top:12px;font-weight:700;color:var(--muted)">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
          <select id="paymentMethod" class="payment-select" aria-label="Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹">
            <option value="Ø¨Ù†ÙƒÙƒ">ğŸ’³ Ø¨Ù†ÙƒÙƒ</option>
            <option value="Ù…Ø§ÙŠ ÙƒØ§Ø´">ğŸ“± Ù…Ø§ÙŠ ÙƒØ§Ø´</option>
            <option value="Ø¨Ø±Ø§ÙÙˆ ÙƒØ§Ø´">ğŸ“² Ø¨Ø±Ø§ÙÙˆ ÙƒØ§Ø´</option>
            <option value="ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´">ğŸ“± ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´</option>
          </select>

          <div class="sidebar-actions">
            <button id="reviewBtn" class="btn-primary" aria-haspopup="dialog">Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ¥Ø±Ø³Ø§Ù„</button>
            <button id="clearBtn" class="btn-outline">ØªÙØ±ÙŠØº</button>
          </div>

          <div style="margin-top:12px;color:var(--muted);font-size:13px">Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„: <a href="https://wa.me/201035179385" style="color:var(--primary);text-decoration:none">+201035179385</a></div>
        </div>

        <div class="card" style="margin-top:14px">
          <h4 style="margin:0 0 8px 0">Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</h4>
          <ul style="margin:0;padding-left:0;list-style:none;color:var(--muted)">
            <li>ğŸ’³ Ø¨Ù†Ùƒ: 1966784 â€“ Ø®Ø§Ù„Ø¯ Ù…Ø­Ù…Ø¯ Ù…ÙˆØ³Ù‰</li>
            <li>ğŸ“± Ù…Ø§ÙŠ ÙƒØ§Ø´ÙŠ: 400774522</li>
            <li>ğŸ“² Ø¨Ø±Ø§ÙÙˆ ÙƒØ§Ø´: 79560447</li>
            <li>ğŸ“± ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´: 01035179385</li>
          </ul>
        </div>
      </aside>

    </div>

    <div class="footer">
      Â© Sudan-store â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
    </div>
  </main>

  <!-- toast & modal -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <div id="modalBack" class="modal-back" role="dialog" aria-modal="true">
    <div class="modal" role="document">
      <h3 style="margin:0 0 8px 0">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</h3>
      <div id="modalBody" style="color:var(--muted);white-space:pre-line"></div>
      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:12px">
        <button id="sendBtn" class="btn-primary">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
        <button id="closeBtn" class="btn-outline">Ø¥Ù„ØºØ§Ø¡</button>
      </div>
    </div>
  </div>

  <!-- floating whatsapp -->
  <a id="quickWhats" class="btn-primary whatsapp" href="https://wa.me/201035179385" target="_blank" style="position:fixed;left:18px;bottom:18px;border-radius:50px;padding:12px 14px;z-index:9999;text-decoration:none;color:#fff">ğŸ’¬</a>

<script>
/* === Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª â€” Ù„Ø§ ØªØºÙŠØ± Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù‡Ù†Ø§ (ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª) === */
const PRODUCTS = [
  {id:1, name:'110 Ø¬ÙˆÙ‡Ø±Ø©', type:'diamonds', priceSDG:3600, priceEGP:55, img:'https://i.imgur.com/0ZP4zZC.jpeg'},
  {id:2, name:'231 Ø¬ÙˆÙ‡Ø±Ø©', type:'diamonds', priceSDG:7500, priceEGP:115, img:'https://i.imgur.com/HmGD2zE.jpeg'},
  {id:3, name:'583 Ø¬ÙˆÙ‡Ø±Ø©', type:'diamonds', priceSDG:18000, priceEGP:280, img:'https://i.imgur.com/xotfOZx.jpeg'},
  {id:4, name:'1180 Ø¬ÙˆÙ‡Ø±Ø©', type:'diamonds', priceSDG:35500, priceEGP:550, img:'https://i.imgur.com/Jc8cTg5.jpeg'},
  {id:5, name:'2420 Ø¬ÙˆÙ‡Ø±Ø©', type:'diamonds', priceSDG:70500, priceEGP:1100, img:'https://i.imgur.com/0b7Lj2N.jpeg'},
  {id:6, name:'ØªØ±Ù‚ÙŠØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰', type:'upgrade', priceSDG:18000, priceEGP:285, img:'https://i.imgur.com/zLG0vTy.jpeg'},
  {id:7, name:'Ø¹Ø¶ÙˆÙŠØ© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©', type:'membership', priceSDG:9200, priceEGP:140, img:'https://i.imgur.com/H5rnkUd.jpeg'},
  {id:8, name:'Ø¹Ø¶ÙˆÙŠØ© Ø´Ù‡Ø±ÙŠØ©', type:'membership', priceSDG:40000, priceEGP:600, img:'https://i.imgur.com/aJcOAF3.jpeg'},
];

let state = {
  currency: 'SDG',
  filter: 'all',
  query: '',
  cart: []
};

/* Ø¹Ù†Ø§ØµØ± DOM */
const productsGrid = document.getElementById('productsGrid');
const searchInput = document.getElementById('searchInput');
const filterSelect = document.getElementById('filterSelect');
const currencySelect = document.getElementById('currencySelect');
const cartList = document.getElementById('cartList');
const totalAmount = document.getElementById('totalAmount');
const currencyLabel = document.getElementById('currencyLabel');
const paymentMethod = document.getElementById('paymentMethod');
const toast = document.getElementById('toast');
const modalBack = document.getElementById('modalBack');
const modalBody = document.getElementById('modalBody');
const sendBtn = document.getElementById('sendBtn');
const closeBtn = document.getElementById('closeBtn');

/* --- Helpers --- */
function showToast(text, time=1500){
  toast.innerText = text;
  toast.style.display = 'block';
  setTimeout(()=> toast.style.display = 'none', time);
}

function formatPrice(p, currency){
  return currency === 'SDG' ? `${p} SDG` : `${p} EGP`;
}

/* --- Render products --- */
function renderProducts(){
  productsGrid.innerHTML = '';
  const q = state.query.trim();
  let list = PRODUCTS.filter(p => (state.filter === 'all' || p.type === state.filter));
  if(q) {
    const lower = q.toLowerCase();
    list = list.filter(p => p.name.toLowerCase().includes(lower) || String(p.priceSDG).includes(q) || String(p.priceEGP).includes(q));
  }
  list.forEach(p => {
    const price = state.currency === 'SDG' ? p.priceSDG : p.priceEGP;
    const card = document.createElement('div'); card.className = 'product';
    card.innerHTML = `
      <div class="product-top">
        <img src="${p.img}" alt="${p.name}" loading="lazy" />
        <div>
          <div class="product-title">${p.name}</div>
          <div class="product-sub">${p.priceSDG} SDG / ${p.priceEGP} EGP</div>
        </div>
      </div>
      <div class="product-bottom">
        <div style="display:flex;gap:8px;align-items:center">
          <input aria-label="Ø§Ù„ÙƒÙ…ÙŠØ©" id="qty-${p.id}" class="qty" type="number" min="1" value="1">
        </div>
        <div style="display:flex;flex-direction:column;align-items:flex-end;gap:6px">
          <div class="price">${price} ${state.currency}</div>
          <button class="btn-add" data-id="${p.id}">Ø¥Ø¶Ø§ÙØ©</button>
        </div>
      </div>
    `;
    productsGrid.appendChild(card);
  });
  // attach handlers for add buttons
  document.querySelectorAll('.btn-add').forEach(b => {
    b.addEventListener('click', (e) => {
      const id = Number(e.currentTarget.dataset.id);
      const qtyEl = document.getElementById('qty-'+id);
      const qty = Math.max(1, parseInt(qtyEl.value) || 1);
      addToCart(id, qty);
    });
  });
}

/* --- Cart logic --- */
function addToCart(productId, qty=1){
  const p = PRODUCTS.find(x=>x.id===productId);
  const existing = state.cart.find(i=>i.id===productId);
  if(existing) existing.qty += qty; else state.cart.push({id:p.id, name:p.name, priceSDG:p.priceSDG, priceEGP:p.priceEGP, qty});
  renderCart();
  showToast('ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©');
}

function removeFromCart(id){
  state.cart = state.cart.filter(i => i.id !== id);
  renderCart();
}

function renderCart(){
  cartList.innerHTML = '';
  let total = 0;
  state.cart.forEach(item=>{
    const price = state.currency === 'SDG' ? item.priceSDG : item.priceEGP;
    total += price * item.qty;
    const div = document.createElement('div'); div.className = 'cart-item';
    div.innerHTML = `<div><strong>${item.name}</strong><br><small>${item.qty} Ã— ${price} ${state.currency}</small></div><div><strong>${price*item.qty} ${state.currency}</strong><br><button class="btn-outline" data-remove="${item.id}">Ø­Ø°Ù</button></div>`;
    cartList.appendChild(div);
  });
  document.querySelectorAll('[data-remove]').forEach(btn => btn.addEventListener('click', e => {
    const id = Number(e.currentTarget.dataset.remove);
    removeFromCart(id);
  }));
  totalAmount.innerText = total;
  currencyLabel.innerText = state.currency;
}

/* --- Controls events --- */
searchInput.addEventListener('input', e => { state.query = e.target.value; renderProducts(); });
filterSelect.addEventListener('change', e => { state.filter = e.target.value; renderProducts(); });
currencySelect.addEventListener('change', e => { state.currency = e.target.value; renderProducts(); renderCart(); });

document.getElementById('reviewBtn').addEventListener('click', ()=> {
  if(state.cart.length === 0){ showToast('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©'); return; }
  // build message
  let msg = `ğŸ›’ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Sudan-store\\n\\nØ·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: ${paymentMethod.value}\\n\\n`;
  state.cart.forEach(i=>{
    const price = state.currency === 'SDG' ? i.priceSDG : i.priceEGP;
    msg += `- ${i.name} Ã— ${i.qty} = ${price * i.qty} ${state.currency}\\n`;
  });
  msg += `\\nØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalAmount.innerText} ${state.currency}`;
  modalBody.innerText = msg;
  modalBack.style.display = 'flex';
});

closeBtn.addEventListener('click', ()=> modalBack.style.display = 'none');

sendBtn.addEventListener('click', ()=> {
  const phone = '201035179385';
  const text = encodeURIComponent(modalBody.innerText);
  window.open(`https://wa.me/${phone}?text=${text}`, '_blank');
  modalBack.style.display = 'none';
  showToast('ØªÙ… ÙØªØ­ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨');
});

document.getElementById('clearBtn').addEventListener('click', ()=> {
  state.cart = [];
  renderCart();
  showToast('ØªÙ… ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©');
});

/* init */
renderProducts();
renderCart();

</script>
</body>
  </html>
