<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sudan-Store</title>
<style>
body{
    font-family:'Tajawal',sans-serif;
    direction:rtl;
    margin:0;
    background:#f4f4f4;
    overflow-x:hidden;
}
header{
    background:linear-gradient(45deg,#e10600,#000,#009739);
    color:#fff;text-align:center;padding:25px 0;
    border-bottom-left-radius:25px;border-bottom-right-radius:25px;
}
header h1{margin:0;font-size:34px;font-weight:800;}
header h1::before{content:"ğŸ›’ ";}

.control-box{
    width:90%;margin:15px auto;background:#fff;padding:12px;
    border-radius:14px;box-shadow:0 0 10px #0002;display:flex;gap:10px;
}
select,input,button{
    flex:1;border-radius:10px;padding:9px;border:1px solid #ddd;font-size:15px;
}

.item{
    width:90%;background:#fff;margin:12px auto;padding:15px;border-radius:15px;
    box-shadow:0 0 10px #0001;display:flex;justify-content:space-between;align-items:center;
}
.gem{font-size:22px;font-weight:bold;color:#009739;}
.gem::before{content:"ğŸ’ ";}
.price{font-size:14px;color:#333;margin-left:10px;}
.add{
    background:#e10600;color:white;border-radius:10px;padding:7px 15px;
    font-weight:bold;cursor:pointer;
}
.add:hover{background:#000;}

.cart-box{
    width:90%;background:white;margin:25px auto;padding:15px;border-radius:15px;
    box-shadow:0 0 8px #0002;
}
.cart-title{font-size:22px;font-weight:700;margin-bottom:10px;}
.cart-total{font-size:18px;color:#009739;font-weight:bold;margin:10px 0;}
.cart-input{
    width:100%;margin:6px 0;padding:10px;border-radius:10px;
    border:1px solid #ccc;font-size:15px;
}
.whatsapp-btn{
    width:100%;background:#25D366;color:white;padding:12px;
    font-size:18px;font-weight:bold;border-radius:12px;margin-top:10px;
    text-align:center;display:block;text-decoration:none;
}

#notify{
    position:fixed;top:20px;left:50%;transform:translateX(-50%);
    background:#25d366;color:#fff;padding:10px 20px;border-radius:6px;
    display:none;font-weight:bold;z-index:999;
}

#floatCart{
    position:fixed;bottom:20px;left:20px;background:#009739;color:#fff;
    font-size:22px;padding:12px 18px;border-radius:50px;
    text-align:center;cursor:pointer;z-index:999;
}
</style>
</head>
<body>

<header>
<h1>Sudan-Store</h1>
<div>Ø®Ø¯Ù…Ø© Ø´Ø­Ù† Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ¨Ø·Ø§Ù‚Ø§Øª â€” SDG / EGP</div>
</header>

<div class="control-box">
<select id="currency">
<option value="SDG">ğŸ’µ SDG</option>
<option value="EGP">ğŸ’° EGP</option>
</select>
<input id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¨Ø§Ù‚Ø© Ù…Ø«Ø§Ù„: 110">
</div>

<div id="notify">ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© âœ…</div>

<!-- Ø§Ù„Ø³Ù„Ø© -->
<div class="cart-box">
<div class="cart-title">ğŸ› Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</div>
<div id="cart-content">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± Ø¨Ø¹Ø¯</div>
<div id="cart-total" class="cart-total">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0 SDG / 0 EGP</div>
<select class="cart-input" id="payMethod">
<option>Ø¨Ù†ÙƒÙƒ</option>
<option>Ù…Ø§ÙŠ ÙƒØ§Ø´ÙŠ</option>
<option>Ø¨Ø±Ø§ÙÙˆ</option>
<option>ÙÙˆØ±ÙŠ</option>
<option>Ø£ÙˆÙƒØ§Ø´</option>
</select>
<input id="playerID" class="cart-input" placeholder="Ø£Ø¯Ø®Ù„ ID Ø§Ù„Ù„Ø¹Ø¨Ø©">
<input id="notes" class="cart-input" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©">
<a id="sendW" class="whatsapp-btn" href="#">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨ ğŸ“©</a>
</div>

<div id="floatCart" onclick="scrollToCart()">ğŸ›’</div>

<script>
// ======== Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ========
let cart=[];
const products = [
    {name:"110 Ø¬ÙˆÙ‡Ø±Ø©", sdg:3600, egp:55},
    {name:"231 Ø¬ÙˆÙ‡Ø±Ø©", sdg:7500, egp:115},
    {name:"583 Ø¬ÙˆÙ‡Ø±Ø©", sdg:18000, egp:280},
    {name:"1180 Ø¬ÙˆÙ‡Ø±Ø©", sdg:35500, egp:550},
    {name:"2420 Ø¬ÙˆÙ‡Ø±Ø©", sdg:70500, egp:1100},
    {name:"Ø¹Ø¶ÙˆÙŠØ© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©", sdg:8600, egp:120},
    {name:"Ø¹Ø¶ÙˆÙŠØ© Ø´Ù‡Ø±ÙŠØ©", sdg:40500, egp:530},
];

// ======== Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø© ========
function renderProducts(){
    const currency = document.getElementById("currency").value;
    const controlBox = document.querySelector('.control-box');
    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
    document.querySelectorAll('.item').forEach(i=>i.remove());

    // Ø¥Ù†Ø´Ø§Ø¡ HTML Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
    const itemsHTML = products.map(p=>{
        const price = currency === "SDG" ? p.sdg+" SDG" : p.egp+" EGP";
        return `<div class="item">
            <span class="gem">${p.name}</span>
            <span class="price">${price}</span>
            <span class="add" onclick="addToCart('${p.name}',${p.sdg},${p.egp})">Ø¥Ø¶Ø§ÙØ©</span>
        </div>`;
    }).join('');

    controlBox.insertAdjacentHTML('afterend', itemsHTML);
}

// ======== Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡ ========
function showNotify(){
    const n=document.getElementById("notify");
    n.style.display="block";
    setTimeout(()=>n.style.display="none",1200);
}

function addToCart(name,sdg,egp){
    cart.push({name,sdg,egp});
    showNotify();
    updateCart();
}

function updateCart(){
    let list="",sdg=0,egp=0;
    cart.forEach(c=>{
        list+=`â€¢ ${c.name}\n`;
        sdg+=c.sdg;
        egp+=c.egp;
    });

    document.getElementById("cart-content").innerHTML =
        list ? list.replace(/\n/g,"<br>") : "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ±";

    const currency = document.getElementById("currency").value;
    if(currency==="SDG"){
        document.getElementById("cart-total").innerHTML = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${sdg} SDG`;
    } else {
        document.getElementById("cart-total").innerHTML = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${egp} EGP`;
    }

    generateWhatsAppLink(list,sdg,egp);
}

function generateWhatsAppLink(list,sdg,egp){
    if(cart.length===0){document.getElementById("sendW").href="#";return;}
    let method=document.getElementById("payMethod").value;
    let ID=document.getElementById("playerID").value.trim();
    let notes=document.getElementById("notes").value.trim();
    if(ID===""){document.getElementById("sendW").href="#";return;}

    const currency = document.getElementById("currency").value;
    const total = currency==="SDG"?sdg+" SDG":egp+" EGP";

    let message =
`Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Sudan-Store:
Ø§Ù„Ø¨Ø§Ù‚Ø§Øª:
${list}
Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹: ${method}
ID Ø§Ù„Ù„Ø§Ø¹Ø¨: ${ID}
Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}
Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total}`;

    document.getElementById("sendW").href =
        `https://wa.me/201035179385?text=${encodeURIComponent(message)}`;
}

// ======== ØªØ­Ø¯ÙŠØ« Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ ========
document.getElementById("playerID").addEventListener("input", updateCart);
document.getElementById("notes").addEventListener("input", updateCart);
document.getElementById("payMethod").addEventListener("change", updateCart);
document.getElementById("currency").addEventListener("change", ()=>{ renderProducts(); updateCart(); });

// ======== ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø³Ù„Ø© Ù„Ù„ØªÙ…Ø±ÙŠØ± ========
function scrollToCart(){
    document.querySelector('.cart-box').scrollIntoView({behavior:'smooth'});
}

// ======== Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ========
renderProducts();
</script>

</body>
</html>
